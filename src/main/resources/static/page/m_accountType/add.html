<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>新增一笔</title>
    <link rel="stylesheet" href="..\bootstrap-4.6.1-dist\css\bootstrap.min.css">
    <script src="..\js\vue.min.js"></script>
    <script src="..\js\axios.min.js"></script>
</head>
<body>
<div style="margin-left: 50px;margin-right: 50px;margin-top: 50px" id="app">
     <form v-on:submit.prevent="doSubmit">
         <div class="form-group">
             <label >内容</label>
             <input class="form-control" type="text" v-model="name">
         </div>
            <button type="submit" class="btn btn-primary">添加</button>

     </form>

</div>

<script>
    var vm = new Vue({
            el:"#app",
            data: {
                name:""
            },
            methods: {
                doSubmit: function () {
                    axios.get("/type/add", {
                        params: {
                            typename:this.name
                        }}).then(resp => {
                        if (resp.data == '1') {
                            alert('添加成功');
                            location.href = "list.html";
                        }else {
                            alert("添加失败")
                        }
                    }).catch(error => alert("编号重复！"))
                }
            }

        })
</script>
        </body>
    </html>