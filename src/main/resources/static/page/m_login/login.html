<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Login</title>

    <link rel="stylesheet" href="..\bootstrap-4.6.1-dist\css\bootstrap.min.css">
    <script src="..\js\vue.min.js"></script>
    <script src="..\js\axios.min.js"></script>
</head>
<body>
<div style="margin-left: 50px;margin-right: 50px;margin-top: 50px" id="app">
    <form v-on:submit.prevent="doSubmit">
        <div class="form-group">
            <label for="exampleFormControlInput1">用户名</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="username">
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">密码</label>
            <input type="password" class="form-control" id="exampleInputPassword1" v-model="password">
        </div>
        <div class="form-group" style="width: 300px">
            <button type="submit" class="btn btn-outline-success btn-lg btn-block">登录</button>
        </div>
        <div class="form-group" style="width: 300px">
            <a href="register.html" class="btn btn-outline-info btn-lg btn-block">没有账户？点击注册</a>
        </div>

    </form>
</div>
<script>
    var vm = new Vue({
        el:"#app",
        data:{
            username:"",
            password:""
        },
        methods:{
            doSubmit:function (){
                axios.get("/userdata/login", {params:{username:this.username,password:this.password}}).then(res => {
                        if(res.data == '1'){
                            alert("登录成功");
                            location.href="../home.html"
                        }else {
                            alert("登录失败，请检查用户名和密码")
                        }
                    }
                )
            }
        }
    })
</script>
</body>
</html>